<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯¾ç¨‹4: è¾“å…¥ä¸è¾“å‡º - Pythoné‡‘èç¼–ç¨‹è¯¾ç¨‹</title>
    <link rel="stylesheet" href="../../css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <style>
        /* æ•°æ®é›†ä¸‹è½½åŒºåŸŸæ ·å¼ */
        .data-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #e1e8ed;
        }
        
        .data-download-area h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .data-info {
            text-align: center;
            margin-bottom: 25px;
            color: #5a6c7d;
            font-size: 1.1em;
        }
        
        .data-files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .data-file-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 1px solid #e1e8ed;
            transition: all 0.3s ease;
        }
        
        .data-file-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .file-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .file-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }
        
        .file-name {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1em;
        }
        
        .file-description {
            color: #5a6c7d;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .file-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .file-stats span {
            background: #f8f9fa;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.9em;
            color: #495057;
            border: 1px solid #e9ecef;
        }
        
        .download-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .download-btn:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .data-usage-tips {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }
        
        .data-usage-tips h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .data-usage-tips ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .data-usage-tips li {
            margin-bottom: 8px;
            color: #5a6c7d;
        }
        
        .data-usage-tips code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #495057;
        }
        
        /* ä¸‹è½½é€šçŸ¥æ ·å¼ */
        .download-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .download-notification.show {
            transform: translateX(0);
        }
    </style>

    <style>
    /* ç¡®ä¿ä»£ç å—å·¦å¯¹é½ */
    .lesson-content pre {
        text-align: left !important;
        font-family: 'Courier New', Courier, monospace;
        background-color: #f5f7fa;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 20px 0;
        border-left: 4px solid #4299e1;
    }
    
    .lesson-content code {
        text-align: left !important;
        font-family: 'Courier New', Courier, monospace;
        background-color: #f5f7fa;
        padding: 2px 5px;
        border-radius: 3px;
    }
    
    /* ç¡®ä¿preæ ‡ç­¾å†…çš„å†…å®¹å·¦å¯¹é½ */
    pre * {
        text-align: left !important;
    }
    
    /* ç¡®ä¿æ‰€æœ‰ä»£ç ç›¸å…³å…ƒç´ éƒ½å·¦å¯¹é½ */
    pre, code, .hljs {
        text-align: left !important;
    }
    </style>
    
</head>
<body>
<div id="navigation-container"></div>
<script>
// åŠ¨æ€åŠ è½½å¯¼èˆªæ¡
function loadNavigation() {
    fetch('../../nav.html')
        .then(response => response.text())
        .then(html => {
            // æ›´æ–°å¯¼èˆªä¸­çš„é“¾æ¥è·¯å¾„
            let updatedHtml = html;
            
            // å¤„ç†æ ¹ç›®å½•æ–‡ä»¶é“¾æ¥ï¼ˆindex.html, syllabus.htmlç­‰ï¼‰
            updatedHtml = updatedHtml.replace(/href="index\.html"/g, 'href="../../index.html"');
            updatedHtml = updatedHtml.replace(/href="\.\/([^/]*\.html)"/g, 'href="../../$1"');
            
            // å¤„ç†æ¨¡å—è·¯å¾„é“¾æ¥ï¼ˆå·²ç»æ˜¯å®Œæ•´ç›¸å¯¹è·¯å¾„ï¼Œåªéœ€è¦æ·»åŠ æ ¹è·¯å¾„å‰ç¼€ï¼‰
            updatedHtml = updatedHtml.replace(/href="\.\/part([^"]*)"/g, 'href="../../part$1"');
            
            document.getElementById('navigation-container').innerHTML = updatedHtml;
            
            // æ·»åŠ ç§»åŠ¨ç«¯èœå•åˆ‡æ¢åŠŸèƒ½
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.querySelector('.nav-menu');
            if (menuToggle && navMenu) {
                menuToggle.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                });
            }
        })
        .catch(error => console.error('å¯¼èˆªåŠ è½½å¤±è´¥:', error));
}

// é¡µé¢åŠ è½½å®ŒæˆååŠ è½½å¯¼èˆª
document.addEventListener('DOMContentLoaded', loadNavigation);
</script>



    

<main class="container">
        <section class="lesson-content">
            <h2>è¾“å‡ºåŸºç¡€ï¼šprint() å‡½æ•°</h2>
            <p>åœ¨Pythonä¸­ï¼Œ<code>print()</code>å‡½æ•°æ˜¯æœ€åŸºæœ¬çš„è¾“å‡ºæ–¹å¼ï¼Œç”¨äºå°†ä¿¡æ¯æ˜¾ç¤ºåˆ°æ§åˆ¶å°ã€‚</p>
            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <pre># æ‰“å°ç®€å•çš„å­—ç¬¦ä¸²
print("Hello, Python!")
# æ‰“å°å¤šä¸ªå€¼
print("å§“å:", "å¼ ä¸‰", "å¹´é¾„:", 25)
# æ‰“å°å˜é‡
name = "æå››"
age = 30
print(name, age)
# æ‰“å°è®¡ç®—ç»“æœ
print("2 + 3 =", 2 + 3)</pre>
            <h3>print() å‡½æ•°çš„å‚æ•°</h3>
            <p><code>print()</code>å‡½æ•°æœ‰å‡ ä¸ªæœ‰ç”¨çš„å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶è¾“å‡ºçš„æ ¼å¼ï¼š</p>
            <pre># sepå‚æ•°ï¼šæŒ‡å®šå€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰
print("å§“å", "å¼ ä¸‰", "å¹´é¾„", 25, sep=": ")  # è¾“å‡º: å§“å: å¼ ä¸‰: å¹´é¾„: 25
# endå‚æ•°ï¼šæŒ‡å®šè¾“å‡ºç»“æŸçš„å­—ç¬¦ï¼ˆé»˜è®¤ä¸ºæ¢è¡Œç¬¦\nï¼‰
print("Hello", end=" ")
print("World")  # è¾“å‡º: Hello World
# fileå‚æ•°ï¼šæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶å¯¹è±¡ï¼ˆé»˜è®¤ä¸ºsys.stdoutï¼‰
with open("output.txt", "w") as f:
    print("è¿™è¡Œæ–‡æœ¬å°†å†™å…¥æ–‡ä»¶", file=f)
# flushå‚æ•°ï¼šæ˜¯å¦ç«‹å³åˆ·æ–°è¾“å‡ºç¼“å†²åŒºï¼ˆé»˜è®¤ä¸ºFalseï¼‰
import time
for i in range(5):
    print(i, end=" ", flush=True)
    time.sleep(1)  # æ¯ç§’æ‰“å°ä¸€ä¸ªæ•°å­—ï¼Œä¸ç­‰å¾…ç¼“å†²åŒºæ»¡</pre>
        </section>
        <section class="lesson-content">
            <h2>æ ¼å¼åŒ–è¾“å‡º</h2>
            <p>Pythonæä¾›äº†å¤šç§æ–¹å¼æ¥æ ¼å¼åŒ–è¾“å‡ºï¼Œä½¿å…¶æ›´åŠ ç¾è§‚å’Œæ˜“è¯»ã€‚</p>
            <h3>ä½¿ç”¨ % è¿ç®—ç¬¦ï¼ˆæ—§é£æ ¼ï¼‰</h3>
            <pre># %s è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ%d è¡¨ç¤ºæ•´æ•°ï¼Œ%f è¡¨ç¤ºæµ®ç‚¹æ•°
name = "ç‹äº”"
age = 35
height = 1.75
print("å§“å: %s, å¹´é¾„: %d, èº«é«˜: %.2fç±³" % (name, age, height))
# é‡‘èåº”ç”¨ç¤ºä¾‹
principal = 10000
rate = 0.05
years = 5
amount = principal * (1 + rate) ** years
print("æŠ•èµ„é‡‘é¢: %då…ƒ, å¹´åˆ©ç‡: %.1f%%, %då¹´åé‡‘é¢: %.2få…ƒ" %
      (principal, rate * 100, years, amount))</pre>
            <h3>ä½¿ç”¨ format() æ–¹æ³•</h3>
            <pre># åŸºæœ¬ç”¨æ³•
name = "èµµå…­"
age = 40
print("å§“å: {}, å¹´é¾„: {}".format(name, age))
# æŒ‡å®šå‚æ•°ä½ç½®
print("å§“å: {0}, å¹´é¾„: {1}, å†æ¬¡æ˜¾ç¤ºå§“å: {0}".format(name, age))
# ä½¿ç”¨å‘½åå‚æ•°
print("å§“å: {name}, å¹´é¾„: {age}".format(name=name, age=age))
# æ ¼å¼åŒ–æ•°å­—
pi = 3.14159
print("Piå€¼ä¸º {:.2f}".format(pi))  # ä¿ç•™ä¸¤ä½å°æ•°
# é‡‘èåº”ç”¨ç¤ºä¾‹
stocks = [
    ("AAPL", 150.25, 2.5),
    ("MSFT", 300.75, 1.2),
    ("GOOGL", 2800.50, -0.8)
]
print("{:<6} {:>10} {:>8}".format("è‚¡ç¥¨", "ä»·æ ¼", "å˜åŒ–"))
print("-" * 24)
for symbol, price, change in stocks:
    print("{:<6} {:>10.2f} {:>7.1f}%".format(symbol, price, change))</pre>
            <h3>ä½¿ç”¨ f-stringï¼ˆæ¨èï¼ŒPython 3.6+ï¼‰</h3>
            <p>f-stringæ˜¯Python 3.6å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œæä¾›äº†æ›´ç®€æ´ã€æ›´ç›´è§‚çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹å¼ã€‚</p>
            <pre># åŸºæœ¬ç”¨æ³•
name = "é’±ä¸ƒ"
age = 45
print(f"å§“å: {name}, å¹´é¾„: {age}")
# åœ¨èŠ±æ‹¬å·å†…å¯ä»¥ç›´æ¥ä½¿ç”¨è¡¨è¾¾å¼
print(f"å§“å: {name.upper()}, å¹´é¾„: {age}, æ˜å¹´å¹´é¾„: {age + 1}")
# æ ¼å¼åŒ–æ•°å­—
amount = 1234.5678
print(f"é‡‘é¢: {amount:.2f}")  # ä¿ç•™ä¸¤ä½å°æ•°
print(f"é‡‘é¢: {amount:,.2f}")  # æ·»åŠ åƒä½åˆ†éš”ç¬¦
print(f"ç™¾åˆ†æ¯”: {0.1234:.2%}")  # æ ¼å¼åŒ–ä¸ºç™¾åˆ†æ¯”
# å¯¹é½å’Œå¡«å……
print(f"{'å·¦å¯¹é½':<10}|{'å±…ä¸­':^10}|{'å³å¯¹é½':>10}")
print(f"{'123':0>5}")  # ç”¨0å¡«å……å·¦ä¾§: 00123
# é‡‘èåº”ç”¨ç¤ºä¾‹
investment = 5000
annual_rate = 0.07
years = 10
future_value = investment * (1 + annual_rate) ** years
print(f"åˆå§‹æŠ•èµ„: ${investment:,.2f}")
print(f"å¹´åˆ©ç‡: {annual_rate:.1%}")
print(f"æŠ•èµ„æœŸé™: {years}å¹´")
print(f"æœªæ¥ä»·å€¼: ${future_value:,.2f}")
# åˆ›å»ºè¡¨æ ¼
portfolio = [
    {"symbol": "AAPL", "shares": 10, "price": 150.25},
    {"symbol": "MSFT", "shares": 5, "price": 300.75},
    {"symbol": "GOOGL", "shares": 2, "price": 2800.50}
]
print(f"{'è‚¡ç¥¨':<6}{'æ•°é‡':>6}{'ä»·æ ¼':>10}{'æ€»å€¼':>12}")
print("-" * 34)
for stock in portfolio:
    value = stock['shares'] * stock['price']
    print(f"{stock['symbol']:<6}{stock['shares']:>6}{stock['price']:>10.2f}{value:>12.2f}")</pre>
            <div class="feature">
                <h4>é‡‘èæŠ¥å‘Šä¸­çš„æ ¼å¼åŒ–è¾“å‡º</h4>
                <p>åœ¨é‡‘èåº”ç”¨ä¸­ï¼Œæ ¼å¼åŒ–è¾“å‡ºå¯¹äºåˆ›å»ºä¸“ä¸šçš„æŠ¥å‘Šå’Œåˆ†æç»“æœå±•ç¤ºè‡³å…³é‡è¦ã€‚</p>
                <pre># åˆ›å»ºæŠ•èµ„ç»„åˆæŠ¥å‘Š
import datetime
# æŠ•èµ„ç»„åˆæ•°æ®
portfolio = [
    {"symbol": "AAPL", "shares": 10, "price": 150.25, "change": 2.5},
    {"symbol": "MSFT", "shares": 5, "price": 300.75, "change": 1.2},
    {"symbol": "GOOGL", "shares": 2, "price": 2800.50, "change": -0.8}
]
# è®¡ç®—æ€»å€¼
total_value = sum(stock['shares'] * stock['price'] for stock in portfolio)
# ç”ŸæˆæŠ¥å‘Š
print(f"\n{'æŠ•èµ„ç»„åˆæŠ¥å‘Š':^40}")
print(f"{'ç”Ÿæˆæ—¥æœŸ: ' + datetime.date.today().strftime('%Y-%m-%d'):^40}")
print("=" * 40)
print(f"{'è‚¡ç¥¨':<6}{'æ•°é‡':>6}{'ä»·æ ¼':>10}{'å˜åŒ–':>8}{'æ€»å€¼':>10}")
print("-" * 40)
for stock in portfolio:
    value = stock['shares'] * stock['price']
    change_color = "å¢é•¿" if stock['change'] > 0 else "ä¸‹è·Œ"
    print(f"{stock['symbol']:<6}{stock['shares']:>6}{stock['price']:>10.2f}{stock['change']:>7.1f}%{value:>10.2f}")
print("-" * 40)
print(f"{'æ€»èµ„äº§':>22}{total_value:>18.2f}")
print("=" * 40)</pre>
            </div>
        </section>
        <section class="lesson-content">
            <h2>ç”¨æˆ·è¾“å…¥ï¼šinput() å‡½æ•°</h2>
            <p>Pythonçš„<code>input()</code>å‡½æ•°ç”¨äºä»ç”¨æˆ·è·å–è¾“å…¥ã€‚å®ƒæ¥å—ä¸€ä¸ªå¯é€‰çš„æç¤ºå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚</p>
            <h3>åŸºæœ¬ç”¨æ³•</h3>
            <pre># è·å–ç”¨æˆ·è¾“å…¥
name = input("è¯·è¾“å…¥æ‚¨çš„å§“å: ")
print(f"æ‚¨å¥½ï¼Œ{name}ï¼")
# æ³¨æ„ï¼šinput()å§‹ç»ˆè¿”å›å­—ç¬¦ä¸²ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢
age_str = input("è¯·è¾“å…¥æ‚¨çš„å¹´é¾„: ")
age = int(age_str)  # è½¬æ¢ä¸ºæ•´æ•°
print(f"æ˜å¹´æ‚¨å°†ä¼šæ˜¯{age + 1}å²")</pre>
            <h3>è¾“å…¥éªŒè¯</h3>
            <p>åœ¨æ¥å—ç”¨æˆ·è¾“å…¥æ—¶ï¼ŒéªŒè¯è¾“å…¥çš„æœ‰æ•ˆæ€§éå¸¸é‡è¦ï¼Œç‰¹åˆ«æ˜¯åœ¨é‡‘èåº”ç”¨ä¸­ã€‚</p>
            <pre># ç®€å•çš„è¾“å…¥éªŒè¯
while True:
    try:
        amount = float(input("è¯·è¾“å…¥æŠ•èµ„é‡‘é¢: "))
        if amount <= 0:
            print("æŠ•èµ„é‡‘é¢å¿…é¡»ä¸ºæ­£æ•°ï¼Œè¯·é‡æ–°è¾“å…¥")
            continue
        break
    except ValueError:
        print("æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæ•°å­—")
while True:
    try:
        rate = float(input("è¯·è¾“å…¥å¹´åˆ©ç‡(ä¾‹å¦‚ï¼Œ5%è¾“å…¥0.05): "))
        if rate < 0:
            print("åˆ©ç‡ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œè¯·é‡æ–°è¾“å…¥")
            continue
        break
    except ValueError:
        print("æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæ•°å­—")
while True:
    try:
        years = int(input("è¯·è¾“å…¥æŠ•èµ„å¹´é™: "))
        if years <= 0:
            print("æŠ•èµ„å¹´é™å¿…é¡»ä¸ºæ­£æ•´æ•°ï¼Œè¯·é‡æ–°è¾“å…¥")
            continue
        break
    except ValueError:
        print("æ— æ•ˆè¾“å…¥ï¼Œè¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°")
# è®¡ç®—å¹¶æ˜¾ç¤ºç»“æœ
future_value = amount * (1 + rate) ** years
print(f"\næŠ•èµ„æ€»ç»“:")
print(f"åˆå§‹æŠ•èµ„: ${amount:,.2f}")
print(f"å¹´åˆ©ç‡: {rate:.1%}")
print(f"æŠ•èµ„æœŸé™: {years}å¹´")
print(f"æœªæ¥ä»·å€¼: ${future_value:,.2f}")</pre>
        </section>
        <section class="lesson-content">
            <h2>æ–‡ä»¶è¾“å…¥è¾“å‡º</h2>
            <p>Pythonæä¾›äº†ç®€å•çš„æ–‡ä»¶æ“ä½œåŠŸèƒ½ï¼Œå¯ä»¥è¯»å–å’Œå†™å…¥æ–‡ä»¶ã€‚åœ¨é‡‘èåº”ç”¨ä¸­ï¼Œè¿™å¯¹äºå¤„ç†æ•°æ®æ–‡ä»¶ã€ä¿å­˜åˆ†æç»“æœå’Œç”ŸæˆæŠ¥å‘Šéå¸¸æœ‰ç”¨ã€‚</p>
            <h3>å†™å…¥æ–‡ä»¶</h3>
            <pre># åŸºæœ¬æ–‡ä»¶å†™å…¥
with open("example.txt", "w") as file:
    file.write("è¿™æ˜¯ç¬¬ä¸€è¡Œ\n")
    file.write("è¿™æ˜¯ç¬¬äºŒè¡Œ\n")
# ä½¿ç”¨print()å†™å…¥æ–‡ä»¶
with open("report.txt", "w") as file:
    print("æŠ•èµ„æŠ¥å‘Š", file=file)
    print("-" * 20, file=file)
    print(f"åˆå§‹æŠ•èµ„: ${amount:,.2f}", file=file)
    print(f"å¹´åˆ©ç‡: {rate:.1%}", file=file)
    print(f"æŠ•èµ„æœŸé™: {years}å¹´", file=file)
    print(f"æœªæ¥ä»·å€¼: ${future_value:,.2f}", file=file)</pre>
            <h3>è¯»å–æ–‡ä»¶</h3>
            <pre># è¯»å–æ•´ä¸ªæ–‡ä»¶
with open("example.txt", "r") as file:
    content = file.read()
    print(content)
# é€è¡Œè¯»å–
with open("example.txt", "r") as file:
    for line in file:
        print(line.strip())  # strip()ç§»é™¤è¡Œå°¾çš„æ¢è¡Œç¬¦
# è¯»å–æ‰€æœ‰è¡Œåˆ°åˆ—è¡¨
with open("example.txt", "r") as file:
    lines = file.readlines()
    for line in lines:
        print(line.strip())</pre>
            <h3>CSVæ–‡ä»¶å¤„ç†</h3>
            <p>CSV (Comma-Separated Values) æ˜¯é‡‘èæ•°æ®å¸¸ç”¨çš„æ ¼å¼ï¼ŒPythonæä¾›äº†å†…ç½®çš„csvæ¨¡å—æ¥å¤„ç†è¿™ç§æ–‡ä»¶ã€‚</p>
            <pre># å†™å…¥CSVæ–‡ä»¶
import csv
# è‚¡ç¥¨æ•°æ®
stocks = [
    ["è‚¡ç¥¨ä»£ç ", "ä»·æ ¼", "æ•°é‡", "æ€»å€¼"],
    ["AAPL", 150.25, 10, 1502.50],
    ["MSFT", 300.75, 5, 1503.75],
    ["GOOGL", 2800.50, 2, 5601.00]
]
with open("portfolio.csv", "w", newline="") as file:
    writer = csv.writer(file)
    for row in stocks:
        writer.writerow(row)
# è¯»å–CSVæ–‡ä»¶
with open("portfolio.csv", "r") as file:
    reader = csv.reader(file)
    for row in reader:
        print(", ".join(str(item) for item in row))</pre>
            <!-- æ•°æ®é›†ä¸‹è½½åŒºåŸŸ -->
            <section class="lesson-content data-section">
                <h2>ğŸ“Š é…å¥—æ•°æ®é›†</h2>
                <div class="data-download-area">
                    <div class="data-info">
                        <p>æœ¬è¯¾ç¨‹éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ•°æ®æ–‡ä»¶ã€‚æ‚¨å¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºã€‚</p>
                    </div>
                    
                    <div class="data-files-grid">
                        <div class="data-file-card">
                            <div class="file-header">
                                <span class="file-icon">ğŸ“ˆ</span>
                                <span class="file-name">stock_prices.csv</span>
                            </div>
                            <div class="file-description">
                                è‚¡ç¥¨ä»·æ ¼å†å²æ•°æ®ï¼ŒåŒ…å«æ—¥æœŸã€å¼€ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·ã€æ”¶ç›˜ä»·ã€æˆäº¤é‡ç­‰å­—æ®µ
                            </div>
                            <div class="file-stats">
                                <span>ğŸ“Š 8åªè‚¡ç¥¨</span>
                                <span>ğŸ“… 2å¹´æ•°æ®</span>
                                <span>ğŸ’¾ ~274KB</span>
                            </div>
                            <button class="download-btn" onclick="downloadDataFile('stock_prices.csv')">
                                <span>â¬‡ï¸</span> ä¸‹è½½æ•°æ®æ–‡ä»¶
                            </button>
                        </div>
                        
                        <div class="data-file-card">
                            <div class="file-header">
                                <span class="file-icon">ğŸ’¼</span>
                                <span class="file-name">portfolio.csv</span>
                            </div>
                            <div class="file-description">
                                æŠ•èµ„ç»„åˆç¤ºä¾‹æ•°æ®ï¼Œç”¨äºæ¼”ç¤ºCSVæ–‡ä»¶çš„è¯»å†™æ“ä½œ
                            </div>
                            <div class="file-stats">
                                <span>ğŸ“Š ç¤ºä¾‹æ•°æ®</span>
                                <span>ğŸ“ CSVæ ¼å¼</span>
                                <span>ğŸ’¾ <1KB</span>
                            </div>
                            <button class="download-btn" onclick="createPortfolioCSV()">
                                <span>ğŸ”§</span> ç”Ÿæˆç¤ºä¾‹æ–‡ä»¶
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-usage-tips">
                        <h4>ğŸ’¡ ä½¿ç”¨è¯´æ˜</h4>
                        <ul>
                            <li>ä¸‹è½½ <code>stock_prices.csv</code> åˆ°æ‚¨çš„å·¥ä½œç›®å½•</li>
                            <li>è¿è¡Œä»£ç ç¤ºä¾‹ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>portfolio.csv</code> æ–‡ä»¶</li>
                            <li>ç¡®ä¿æ–‡ä»¶è·¯å¾„ä¸ä»£ç ä¸­çš„å¼•ç”¨ä¸€è‡´</li>
                            <li>æ•°æ®ä¸ºæ¨¡æ‹Ÿæ•°æ®ï¼Œé€‚åˆå­¦ä¹ CSVæ–‡ä»¶æ“ä½œ</li>
                        </ul>
                    </div>
                </div>
            </section>

            <div class="feature">
                <h4>é‡‘èæ•°æ®æ–‡ä»¶å¤„ç†</h4>
                <p>åœ¨å®é™…çš„é‡‘èåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†æ›´å¤æ‚çš„æ•°æ®æ–‡ä»¶ï¼Œå¦‚è‚¡ç¥¨ä»·æ ¼å†å²æ•°æ®ã€‚</p>
                <pre># ç¤ºä¾‹ï¼šå¤„ç†è‚¡ç¥¨ä»·æ ¼æ•°æ®
import csv
from datetime import datetime
# å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«è‚¡ç¥¨ä»·æ ¼å†å²æ•°æ®çš„CSVæ–‡ä»¶
# æ ¼å¼ï¼šæ—¥æœŸ,å¼€ç›˜ä»·,æœ€é«˜ä»·,æœ€ä½ä»·,æ”¶ç›˜ä»·,æˆäº¤é‡
# è¯»å–è‚¡ç¥¨æ•°æ®
stock_data = []
with open("stock_prices.csv", "r") as file:
    reader = csv.DictReader(file)
    for row in reader:
        # è½¬æ¢æ•°æ®ç±»å‹
        date = datetime.strptime(row["æ—¥æœŸ"], "%Y-%m-%d")
        open_price = float(row["å¼€ç›˜ä»·"])
        high = float(row["æœ€é«˜ä»·"])
        low = float(row["æœ€ä½ä»·"])
        close = float(row["æ”¶ç›˜ä»·"])
        volume = int(row["æˆäº¤é‡"])
        stock_data.append({
            "date": date,
            "open": open_price,
            "high": high,
            "low": low,
            "close": close,
            "volume": volume
        })
# è®¡ç®—å¹³å‡æ”¶ç›˜ä»·
total_close = sum(day["close"] for day in stock_data)
avg_close = total_close / len(stock_data)
print(f"å¹³å‡æ”¶ç›˜ä»·: ${avg_close:.2f}")
# æ‰¾å‡ºæœ€é«˜ä»·å’Œæœ€ä½ä»·
max_price = max(day["high"] for day in stock_data)
min_price = min(day["low"] for day in stock_data)
print(f"æœ€é«˜ä»·: ${max_price:.2f}")
print(f"æœ€ä½ä»·: ${min_price:.2f}")
# å°†ç»“æœå†™å…¥æŠ¥å‘Šæ–‡ä»¶
with open("stock_analysis.txt", "w") as file:
    file.write("è‚¡ç¥¨ä»·æ ¼åˆ†ææŠ¥å‘Š\n")
    file.write("=" * 20 + "\n")
    file.write(f"åˆ†ææœŸé—´: {stock_data[0]['date'].strftime('%Y-%m-%d')} è‡³ {stock_data[-1]['date'].strftime('%Y-%m-%d')}\n")
    file.write(f"æ•°æ®ç‚¹æ•°é‡: {len(stock_data)}\n")
    file.write(f"å¹³å‡æ”¶ç›˜ä»·: ${avg_close:.2f}\n")
    file.write(f"æœ€é«˜ä»·: ${max_price:.2f}\n")
    file.write(f"æœ€ä½ä»·: ${min_price:.2f}\n")</pre>
            </div>
        </section>
        <section class="lesson-content">
            <h2>é”™è¯¯å¤„ç†</h2>
            <p>åœ¨å¤„ç†è¾“å…¥å’Œè¾“å‡ºæ—¶ï¼Œé”™è¯¯å¤„ç†æ˜¯éå¸¸é‡è¦çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥å’Œæ–‡ä»¶æ“ä½œæ—¶ã€‚</p>
            <h3>try-except è¯­å¥</h3>
            <pre># åŸºæœ¬é”™è¯¯å¤„ç†
try:
    age = int(input("è¯·è¾“å…¥æ‚¨çš„å¹´é¾„: "))
    print(f"æ˜å¹´æ‚¨å°†ä¼šæ˜¯{age + 1}å²")
except ValueError:
    print("é”™è¯¯ï¼šè¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°")
# å¤„ç†å¤šç§å¼‚å¸¸
try:
    file_name = input("è¯·è¾“å…¥æ–‡ä»¶å: ")
    with open(file_name, "r") as file:
        content = file.read()
        number = int(content)
        result = 100 / number
        print(f"ç»“æœ: {result}")
except FileNotFoundError:
    print(f"é”™è¯¯ï¼šæ–‡ä»¶ '{file_name}' ä¸å­˜åœ¨")
except ValueError:
    print("é”™è¯¯ï¼šæ–‡ä»¶å†…å®¹ä¸æ˜¯æœ‰æ•ˆçš„æ•´æ•°")
except ZeroDivisionError:
    print("é”™è¯¯ï¼šä¸èƒ½é™¤ä»¥é›¶")
except Exception as e:
    print(f"å‘ç”Ÿäº†å…¶ä»–é”™è¯¯: {e}")
# ä½¿ç”¨elseå’Œfinally
try:
    amount = float(input("è¯·è¾“å…¥æŠ•èµ„é‡‘é¢: "))
    rate = float(input("è¯·è¾“å…¥å¹´åˆ©ç‡: "))
    years = int(input("è¯·è¾“å…¥æŠ•èµ„å¹´é™: "))
    if amount <= 0 or rate < 0 or years <= 0:
        raise ValueError("è¾“å…¥å€¼å¿…é¡»ä¸ºæ­£æ•°")
except ValueError as e:
    print(f"è¾“å…¥é”™è¯¯: {e}")
else:
    # åªæœ‰åœ¨tryå—ä¸­æ²¡æœ‰å¼‚å¸¸æ—¶æ‰§è¡Œ
    future_value = amount * (1 + rate) ** years
    print(f"æœªæ¥ä»·å€¼: ${future_value:,.2f}")
finally:
    # æ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ
    print("è®¡ç®—å®Œæˆ")</pre>
        </section>
        <section class="lesson-content">
            <h2>å°ç»“</h2>
            <p>åœ¨æœ¬è¯¾ä¸­ï¼Œæˆ‘ä»¬ï¼š</p>
            <ul>
                <li>å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨<code>print()</code>å‡½æ•°è¿›è¡Œè¾“å‡º</li>
                <li>æŒæ¡äº†å¤šç§å­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯f-string</li>
                <li>äº†è§£äº†å¦‚ä½•ä½¿ç”¨<code>input()</code>å‡½æ•°è·å–ç”¨æˆ·è¾“å…¥</li>
                <li>å­¦ä¹ äº†åŸºæœ¬çš„æ–‡ä»¶è¾“å…¥è¾“å‡ºæ“ä½œ</li>
                <li>æŒæ¡äº†å¤„ç†CSVæ–‡ä»¶çš„æ–¹æ³•</li>
                <li>äº†è§£äº†å¦‚ä½•è¿›è¡Œé”™è¯¯å¤„ç†</li>
            </ul>
            <p>è¿™äº›è¾“å…¥å’Œè¾“å‡ºæŠ€èƒ½å¯¹äºåˆ›å»ºäº¤äº’å¼Pythonç¨‹åºå’Œå¤„ç†é‡‘èæ•°æ®æ–‡ä»¶è‡³å…³é‡è¦ã€‚åœ¨ä¸‹ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ Pythonçš„æ•°æ®ç»“æ„å’Œæ§åˆ¶æµã€‚</p>
            <div class="get-started">
                <h3>å‡†å¤‡å¥½ç»§ç»­å­¦ä¹ äº†å—ï¼Ÿ</h3>
                <p>åœ¨ç»§ç»­ä¸‹ä¸€æ¨¡å—ä¹‹å‰ï¼Œè¯·å°è¯•å®Œæˆæœ¬æ¨¡å—çš„é¡¹ç›®ï¼Œå·©å›ºæ‰€å­¦çŸ¥è¯†ã€‚</p>
                <a href="project.html" class="btn btn-large">æŸ¥çœ‹æ¨¡å—é¡¹ç›®ï¼šé‡‘èè®¡ç®—å™¨</a>
            </div>
        </section>
        <div class="lesson-navigation">
            <div>
                <a href="lesson3.html" class="btn">Â« ä¸Šä¸€è¯¾ï¼šå˜é‡ä¸è¿ç®—ç¬¦</a>
            </div>
            <div>
                <a href="project.html" class="btn">æ¨¡å—é¡¹ç›®ï¼šé‡‘èè®¡ç®—å™¨ Â»</a>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 Pythoné‡‘èç¼–ç¨‹è¯¾ç¨‹. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
        </div>
    </footer>
    
    <script>
        // æ•°æ®ä¸‹è½½åŠŸèƒ½
        function downloadDataFile(filename) {
            let csvContent = '';
            
            if (filename === 'stock_prices.csv') {
                // ç”Ÿæˆè‚¡ç¥¨ä»·æ ¼æ•°æ®
                csvContent = generateStockPricesCSV();
            }
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // æ˜¾ç¤ºä¸‹è½½é€šçŸ¥
            showDownloadNotification(`${filename} ä¸‹è½½å®Œæˆï¼`);
        }
        
        function createPortfolioCSV() {
            const csvContent = `è‚¡ç¥¨ä»£ç ,ä»·æ ¼,æ•°é‡,æ€»å€¼
AAPL,150.25,10,1502.50
MSFT,300.75,5,1503.75
GOOGL,2800.50,2,5601.00
TSLA,850.30,3,2550.90
AMZN,3200.15,1,3200.15`;
            
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'portfolio.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showDownloadNotification('portfolio.csv ç”Ÿæˆå¹¶ä¸‹è½½å®Œæˆï¼');
        }
        
        function generateStockPricesCSV() {
            const headers = 'æ—¥æœŸ,è‚¡ç¥¨ä»£ç ,å¼€ç›˜ä»·,æœ€é«˜ä»·,æœ€ä½ä»·,æ”¶ç›˜ä»·,æˆäº¤é‡\n';
            const stocks = ['AAPL', 'MSFT', 'GOOGL', 'TSLA', 'AMZN', 'NVDA', 'META', 'NFLX'];
            let data = headers;
            
            // ç”Ÿæˆè¿‡å»2å¹´çš„æ•°æ®
            const startDate = new Date('2022-01-01');
            const endDate = new Date('2023-12-31');
            
            for (let stock of stocks) {
                let basePrice = getBasePrice(stock);
                let currentDate = new Date(startDate);
                
                while (currentDate <= endDate) {
                    // è·³è¿‡å‘¨æœ«
                    if (currentDate.getDay() !== 0 && currentDate.getDay() !== 6) {
                        const variation = (Math.random() - 0.5) * 0.1; // Â±5%çš„éšæœºå˜åŒ–
                        const open = basePrice * (1 + variation);
                        const close = open * (1 + (Math.random() - 0.5) * 0.05);
                        const high = Math.max(open, close) * (1 + Math.random() * 0.03);
                        const low = Math.min(open, close) * (1 - Math.random() * 0.03);
                        const volume = Math.floor(Math.random() * 10000000) + 1000000;
                        
                        data += `${currentDate.toISOString().split('T')[0]},${stock},${open.toFixed(2)},${high.toFixed(2)},${low.toFixed(2)},${close.toFixed(2)},${volume}\n`;
                        
                        basePrice = close; // ä¸‹ä¸€å¤©çš„åŸºå‡†ä»·æ ¼
                    }
                    currentDate.setDate(currentDate.getDate() + 1);
                }
            }
            
            return data;
        }
        
        function getBasePrice(stock) {
            const basePrices = {
                'AAPL': 150,
                'MSFT': 300,
                'GOOGL': 2800,
                'TSLA': 850,
                'AMZN': 3200,
                'NVDA': 220,
                'META': 320,
                'NFLX': 400
            };
            return basePrices[stock] || 100;
        }
        
        function showDownloadNotification(message) {
            // ç§»é™¤ç°æœ‰é€šçŸ¥
            const existingNotification = document.querySelector('.download-notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // åˆ›å»ºæ–°é€šçŸ¥
            const notification = document.createElement('div');
            notification.className = 'download-notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // æ˜¾ç¤ºé€šçŸ¥
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // 3ç§’åéšè—é€šçŸ¥
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>